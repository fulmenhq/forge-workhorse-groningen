# Release 0.1.8 (2025-12-19)

Patch release focused on embedding app identity so distributed binaries work outside a repo checkout.

## Overview

- **Standalone binaries**: `version` / `--help` work when copied to `/tmp`.
- **CDRL-safe**: `.fulmen/app.yaml` remains the refit SSOT; build tooling keeps the embedded mirror in sync.
- **Guardrails**: CI can fail fast if embedded identity drifts.

## Changes

### Embedded App Identity

- Mirrored `.fulmen/app.yaml` into an embeddable in-module path: `internal/assets/appidentity/app.yaml`.
- Embedded the mirror via `internal/assets/appidentity/embedded.go`.
- Registered embedded identity at startup via `internal/appid/appid.go` using gofulmen `RegisterEmbeddedIdentityYAML`.

### Drift Guardrails

- Added `make sync-embedded-identity` to keep the embed mirror synced.
- Added `make verify-embedded-identity` to fail if the mirror is out of date.
- Wired sync into `make build`, `make test`, and `make release-build`.

### Acceptance Test

- Added an integration test that builds the binary, copies it into a temp directory, and asserts `version`/`--help` work without a repo checkout.

### Dependencies

- **gofulmen**: Upgraded to v0.1.24 (Crucible v0.2.25 transitively).

## Files Modified

- `Makefile`
- `internal/appid/appid.go`
- `internal/appid/appid_test.go`
- `internal/assets/appidentity/app.yaml`
- `internal/assets/appidentity/embedded.go`
- `scripts/sync-embedded-identity.sh`
- `scripts/verify-embedded-identity.sh`
- `test/integration/standalone_binary_test.go`
- `VERSION`
- `go.mod`
- `go.sum`
- `CHANGELOG.md`
- `RELEASE_NOTES.md`
- `docs/releases/v0.1.8.md`

## Migration Notes

No migration required for template consumers. CDRL consumers should continue editing `.fulmen/app.yaml` (SSOT) and rebuilding; the sync target ensures the embedded identity matches the refit identity.
